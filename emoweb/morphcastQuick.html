<body>




  
  <script src="https://sdk.morphcast.com/mphtools/v1.1/mphtools.js" data-config="cameraPrivacyPopup, compatibilityUI, compatibilityAutoCheck"></script>
  <script src="https://ai-sdk.morphcast.com/v1.16/ai-sdk.js"></script>
  <script src="https://sdk.morphcast.com/emotion-statistics/v1.0-beta/script.js"></script> 
  <script>
  
        const statsConfig = {
              sendDatainterval: 5000,
              tickInterval: 1000,
              stopAfter: 7200000,
              licenseKey: "f39756caa8caf4b09ce1a18e729ba128d82053f2233d"
            };
        const statisticsUploader = new MorphCastStatistics.StatisticsUploader(statsConfig);
    
  CY.loader()
    .licenseKey("f39756caa8caf4b09ce1a18e729ba128d82053f2233d")
    .addModule(CY.modules().FACE_AROUSAL_VALENCE.name, {smoothness: 0.70})
    .addModule(CY.modules().FACE_EMOTION.name, {smoothness: 0.40})
    .addModule(CY.modules().FACE_ATTENTION.name, {smoothness: 0.83})
    .addModule(CY.modules().ALARM_LOW_ATTENTION.name, {timeWindowMs: 5000, initialToleranceMs: 7000, threshold: 0.33})
    .addModule(CY.modules().FACE_WISH.name, {smoothness: 0.8})
    .addModule(CY.modules().FACE_POSE.name, {smoothness: 0.65})
    .addModule(CY.modules().FACE_AGE.name, {rawOutput: false})
    .addModule(CY.modules().FACE_GENDER.name, {smoothness: 0.95, threshold: 0.70})
    .addModule(CY.modules().FACE_FEATURES.name, {smoothness: 0.90})
    .addModule(CY.modules().FACE_DETECTOR.name, {maxInputFrameSize: 320, smoothness: 0.83})
    .addModule(CY.modules().ALARM_MORE_FACES.name, {timeWindowMs: 3000, initialToleranceMs: 7000, threshold: 0.33})
    .addModule(CY.modules().ALARM_NO_FACE.name, {timeWindowMs: 10000, initialToleranceMs: 7000, threshold: 0.75})
    .addModule(CY.modules().DATA_AGGREGATOR.name, {initialWaitMs: 2000, periodMs: 1000})
    .addModule(CY.modules().FACE_POSITIVITY.name, {smoothness: 0.40, gain: 2, angle: 17})
    .load()
  .then(async ({ start, stop }) => {
        
        await start();
        await statisticsUploader.start();
  
        setTimeout(async () => {
            await statisticsUploader.stop();
            await stop();
        }, statsConfig.stopAfter);
  
      });
  
  
  window.addEventListener(CY.modules().FACE_AROUSAL_VALENCE.eventName, (evt) => {
    console.log('FACE_AROUSAL_VALENCE result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_EMOTION.eventName, (evt) => {
    console.log('FACE_EMOTION result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_ATTENTION.eventName, (evt) => {
    console.log('FACE_ATTENTION result', evt.detail);
  });
  
  window.addEventListener(CY.modules().ALARM_LOW_ATTENTION.eventName, (evt) => {
    console.log('ALARM_LOW_ATTENTION result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_WISH.eventName, (evt) => {
    console.log('FACE_WISH result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_POSE.eventName, (evt) => {
    console.log('FACE_POSE result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_AGE.eventName, (evt) => {
    console.log('FACE_AGE result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_GENDER.eventName, (evt) => {
    console.log('FACE_GENDER result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_FEATURES.eventName, (evt) => {
    console.log('FACE_FEATURES result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_DETECTOR.eventName, (evt) => {
    console.log('FACE_DETECTOR result', evt.detail);
  });
  
  window.addEventListener(CY.modules().ALARM_MORE_FACES.eventName, (evt) => {
    console.log('ALARM_MORE_FACES result', evt.detail);
  });
  
  window.addEventListener(CY.modules().ALARM_NO_FACE.eventName, (evt) => {
    console.log('ALARM_NO_FACE result', evt.detail);
  });
  
  window.addEventListener(CY.modules().DATA_AGGREGATOR.eventName, (evt) => {
    console.log('DATA_AGGREGATOR result', evt.detail);
  });
  
  window.addEventListener(CY.modules().FACE_POSITIVITY.eventName, (evt) => {
    console.log('FACE_POSITIVITY result', evt.detail);
  });
  
  MphTools.CameraPrivacyPopup.setText({
     "title": "Allow us to use your camera",
     "description": "This experience is designed to be viewed with your camera on. The next screen will ask your consent to access data from your camera.",
     "url": "https://YOUR_DOMAIN/<YOUR_PRIVACY_POLICY>"
  });
  
  </script>
  
  <!-- your body part -->
  
  </body>
  